<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>단어 테스트지 생성 및 출력</title>
    <!-- Tailwind CSS CDN 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
            padding: 20px;
        }

        /* 1. 설정 화면 스타일 */
        #settings-view {
            max-width: 768px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }

        /* 2. 출력 화면 스타일 */
        #print-view {
            display: none; /* 기본 숨김 */
            width: 210mm; /* A4 용지 너비 */
            min-height: 297mm; /* A4 용지 높이 */
            margin: 0 auto;
            background: white;
            padding: 20mm 15mm;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .sheet-header {
            border-bottom: 2px solid #333;
            padding-bottom: 5px;
            margin-bottom: 20px;
        }

        .word-item {
            display: flex;
            margin-bottom: 10px;
            font-size: 14px;
        }
        .word-item-index {
            width: 30px;
            flex-shrink: 0;
            font-weight: 600;
        }
        .word-item-prompt {
            flex-grow: 1;
            padding-right: 10px;
            border-bottom: 1px dashed #bbb;
        }

        .word-item-answer {
            flex-grow: 2;
            padding-left: 10px;
            border-bottom: 1px solid #333; /* 정답지용 */
        }
        
        /* 챕터 선택 그리드 */
        #chapter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
            gap: 8px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
        }
        
        /* 인쇄 시 스타일 (가장 중요) */
        @media print {
            body {
                background: white;
                margin: 0;
                padding: 0;
            }
            #settings-view, #control-buttons, .back-to-settings, #error-message {
                display: none !important;
            }
            #print-view {
                display: block !important;
                width: 100%;
                min-height: auto;
                margin: 0;
                padding: 15mm 10mm; /* 인쇄 여백 조정 */
                box-shadow: none;
            }
            /* A4 용지 1페이지에 맞추기 위한 분할 방지 */
            .page-break {
                page-break-before: always;
            }
            .no-print {
                display: none !important;
            }
        }
    </style>
</head>
<body>

    <div id="settings-view" class="space-y-6">
        <h1 class="text-3xl font-bold text-center text-indigo-700">📝 단어 테스트지 설정</h1>

        <!-- 챕터 선택 -->
        <div class="space-y-2">
            <label class="block text-lg font-semibold text-gray-700">1. Chapter 선택 (중복 선택 가능)</label>
            <div id="chapter-grid">
                <!-- Chapter 체크박스가 여기에 JS로 생성됨 -->
            </div>
        </div>

        <!-- 문항 수, 단어 유형 선택 -->
        <div class="grid md:grid-cols-2 gap-6">
            <div class="space-y-2">
                <label for="question-count" class="block text-lg font-semibold text-gray-700">2. 원하는 문항 수</label>
                <input type="number" id="question-count" value="30" min="5" max="300" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
            </div>

            <div class="space-y-2">
                <label class="block text-lg font-semibold text-gray-700">3. 단어 유형 선택</label>
                <select id="word-type" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="표제어">표제어만 테스트</option>
                    <option value="all">표제어 + 연관어 모두 테스트</option>
                </select>
            </div>
        </div>
        
        <!-- 테스트 방향 선택 -->
        <div class="space-y-2">
            <label class="block text-lg font-semibold text-gray-700">4. 테스트 방향 선택</label>
            <select id="test-direction" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
                <option value="en_to_ko">영어 제시 → 한글 뜻 적기</option>
                <option value="ko_to_en">한글 뜻 제시 → 영어 단어 적기</option>
            </select>
        </div>

        <!-- 에러 메시지 -->
        <div id="error-message" class="hidden p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg" role="alert"></div>

        <!-- 버튼 -->
        <div class="pt-4">
            <button id="generate-btn" class="w-full py-3 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition duration-150 shadow-md">
                테스트지 생성 및 출력 준비
            </button>
        </div>
    </div>

    <!-- 2. 테스트지 출력 화면 -->
    <div id="print-view" class="hidden">
        
        <!-- 컨트롤 버튼 (인쇄 시 숨김) -->
        <div id="control-buttons" class="no-print fixed top-4 right-4 space-x-3">
            <button id="print-sheet-btn" class="py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600">
                🖨️ 테스트지 & 정답지 인쇄
            </button>
            <button id="back-to-settings" class="py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600">
                설정으로 돌아가기
            </button>
        </div>
        
        <!-- 테스트지 영역 -->
        <div id="test-sheet-container">
            <!-- 테스트지 내용이 여기에 들어갑니다. -->
        </div>

        <!-- 정답지 영역 -->
        <div id="answer-sheet-container" class="page-break">
            <!-- 정답지 내용이 여기에 들어갑니다. -->
        </div>

    </div>

    <script>
        // 이 스크립트 블록이 script.js 역할을 합니다.
        
        // 1. 사용자 CSV 데이터 정의 (전체 단어 목록)
        // [Chapter, Type, Word, Meaning]
        // **주의: 전체 CSV 데이터를 포함했습니다.**
        const rawCSVData = [
            [30, '표제어', 'abandon', "v.버리다, 포기하다"],
            [20, '표제어', 'ability', "n.능력, 재능"],
            [2, '표제어', 'abolish', "v.폐지하다, 없애다"],
            [25, '표제어', 'abroad', "ad.해외로"],
            [26, '표제어', 'absence', "n.부재, 결석, 결근"],
            [26, '연관어', 'absent', "a.결석한, 없는"],
            [42, '표제어', 'absolute', "a.절대적인, 완전한"],
            [42, '연관어', 'absolutely', "ad.완전히, 전적으로"],
            [47, '표제어', 'absorb', "v.흡수하다, (정보를) 받아들이다"],
            [47, '연관어', 'absorption', "n.흡수, 통합, 몰두"],
            [4, '표제어', 'abstract', "a.추상적인"],
            [4, '연관어', 'abstraction', "n.추상, 관념"],
            [17, '표제어', 'abundant', "a.풍부한, 풍족한"],
            [17, '연관어', 'abundance', "n.풍부, 풍요"],
            [34, '표제어', 'abuse', "v.남용하다, 오용하다 n.남용, 오용"],
            [34, '연관어', 'abusive', "a.학대하는"],
            [28, '표제어', 'academic', "a.학업의, 학문의  n.학자"],
            [28, '연관어', 'academically', "ad.학문적으로"],
            [13, '표제어', 'accelerate', "v.가속하다, 빨라지다"],
            [13, '연관어', 'acceleration', "n.가속, 촉진"],
            [15, '표제어', 'accessory', "n.부속물"],
            [15, '연관어', 'access', "v.접근하다 n.접근"],
            [40, '표제어', 'accommodate', "v.수용하다, 편의를 도모하다"],
            [40, '연관어', 'accommodation', "n.숙소, 수용 시설"],
            [11, '표제어', 'accord', "v.부합하다, 일치하다 n.일치, 합의"],
            [11, '연관어', 'accordingly', "ad.그에 따라서"],
            [12, '표제어', 'account', "v.설명하다, (비율을) 차지하다 n.계좌, 설명, 기사"],
            [12, '연관어', 'accountable', "a.책임이 있는"],
            [4, '표제어', 'acknowledge', "v.인정하다, 승인하다"],
            [4, '연관어', 'acknowledgement', "n.인정, 승인, 감사"],
            [10, '표제어', 'acquire', "v.습득하다, 얻다"],
            [10, '연관어', 'acquisition', "n.습득, 취득"],
            [11, '표제어', 'addict', "v.중독시키다 n.중독자"],
            [11, '연관어', 'addiction', "n.중독"],
            [23, '표제어', 'adequate', "a.충분한"],
            [23, '연관어', 'adequately', "ad.충분히"],
            [24, '표제어', 'adolescent', "n.청소년, 청년 a.청소년의"],
            [24, '연관어', 'adolescence', "n.청소년기"],
            [10, '표제어', 'adopt', "v.입양하다, 채택하다"],
            [10, '연관어', 'adoption', "n.입양, 채택"],
            [17, '표제어', 'advance', "v.전진하다, 진보하다 n.전진, 진보"],
            [17, '연관어', 'advanced', "a.선진의, 고급의"],
            [23, '표제어', 'adventure', "n.모험"],
            [23, '연관어', 'adventurous', "a.모험적인"],
            [24, '표제어', 'advertise', "v.광고하다, 홍보하다"],
            [24, '연관어', 'advertisement', "n.광고"],
            [31, '표제어', 'advocate', "v.지지하다, 옹호하다 n.지지자, 옹호자"],
            [31, '연관어', 'advocacy', "n.지지, 옹호"],
            [32, '표제어', 'affiliate', "v.가입시키다, 제휴하다 n.계열사"],
            [32, '연관어', 'affiliation', "n.가입, 제휴"],
            [33, '표제어', 'afford', "v.감당하다, 여유가 되다"],
            [33, '연관어', 'affordable', "a.감당할 수 있는"],
            [36, '표제어', 'agency', "n.대리점, 기관"],
            [36, '연관어', 'agent', "n.대리인, 중개인"],
            [37, '표제어', 'agony', "n.고통, 고뇌"],
            [37, '연관어', 'agonize', "v.고뇌하다"],
            [38, '표제어', 'aid', "v.돕다, 원조하다 n.도움, 원조"],
            [31, '표제어', 'aircraft', "n.항공기, 비행기"],
            [31, '연관어', 'airplane', "n.비행기"],
            [38, '연관어', 'aide', "n.보좌관"],
            [39, '표제어', 'aim', "v.목표로 하다, 겨냥하다 n.목표, 목적"],
            [39, '연관어', 'aimless', "a.목표 없는"],
            [39, '표제어', 'aisle', "n.통로 (극장의 복도, 기내 통로 등)"],
            [39, '연관어', 'island', "n.섬"],
            [40, '표제어', 'albeit', "비록 ~일지라도"],
            [40, '연관어', 'although', "비록 ~일지라도"],
            [1, '표제어', 'allocate', "v.할당하다, 배분하다"],
            [1, '연관어', 'allocation', "n.할당, 배분"],
            [1, '표제어', 'altogether', "ad.전적으로, 모두 합해서"],
            [1, '연관어', 'all together', "다 함께"],
            [3, '표제어', 'amateur', "n.아마추어, 비전문가"],
            [3, '연관어', 'professional', "n.전문가"],
            [41, '표제어', 'ambition', "n.야망, 포부"],
            [41, '연관어', 'ambitious', "a.야망 있는"],
            [41, '표제어', 'amusement', "n.재미, 오락"],
            [41, '연관어', 'amuse', "v.즐겁게 하다"],
            [42, '표제어', 'ancestor', "n.조상, 선조"],
            [42, '연관어', 'descendant', "n.후손, 자손"],
            [42, '표제어', 'annoy', "v.짜증나게 하다"],
            [42, '연관어', 'annoyance', "n.짜증, 성가심"],
            [42, '표제어', 'anticipate', "v.예상하다, 기대하다"],
            [42, '연관어', 'anticipation', "n.예상, 기대"],
            [44, '표제어', 'appeal', "v.호소하다, 항소하다 n.매력, 호소"],
            [44, '연관어', 'appealing', "a.매력적인, 호소하는"],
            [44, '표제어', 'applaud', "v.박수 치다, 칭찬하다"],
            [44, '연관어', 'applause', "n.박수, 칭찬"],
            [45, '표제어', 'appoint', "v.임명하다, 정하다"],
            [45, '연관어', 'appointment', "n.약속, 임명"],
            [45, '표제어', 'appreciate', "v.감사하다, 진가를 인정하다"],
            [45, '연관어', 'appreciation', "n.감사, 인정"],
            [46, '표제어', 'appropriate', "a.적절한, 적합한"],
            [46, '연관어', 'appropriately', "ad.적절하게"],
            [46, '표제어', 'arbitrary', "a.임의적인, 독단적인"],
            [46, '연관어', 'arbitrarily', "ad.임의로, 독단적으로"],
            [47, '표제어', 'archive', "n.기록 보관소, 기록"],
            [47, '연관어', 'archived', "a.기록 보관된"],
            [47, '표제어', 'arise', "v.발생하다, 생겨나다"],
            [47, '연관어', 'arose', "v.발생했다 (과거형)"],
            [48, '표제어', 'arrogant', "a.오만한, 거만한"],
            [48, '연관어', 'arrogance', "n.오만, 거만"],
            [48, '표제어', 'artificial', "a.인공적인, 가짜의"],
            [48, '연관어', 'artificially', "ad.인위적으로"],
            [49, '표제어', 'assault', "v.폭행하다, 공격하다 n.폭행, 공격"],
            [49, '연관어', 'attacker', "n.공격자"],
            [49, '표제어', 'assert', "v.주장하다, 단언하다"],
            [49, '연관어', 'assertion', "n.주장, 단언"],
            [50, '표제어', 'assess', "v.평가하다, 사정하다"],
            [50, '연관어', 'assessment', "n.평가, 사정"],
            [50, '표제어', 'assume', "v.가정하다, 추정하다"],
            [50, '연관어', 'assumption', "n.가정, 추정"],
            [30, '표제어', 'abandon', "v.버리다, 포기하다"],
            [20, '표제어', 'ability', "n.능력, 재능"],
            [2, '표제어', 'abolish', "v.폐지하다, 없애다"],
            [25, '표제어', 'abroad', "ad.해외로"],
            [26, '표제어', 'absence', "n.부재, 결석, 결근"],
            [26, '연관어', 'absent', "a.결석한, 없는"],
            [42, '표제어', 'absolute', "a.절대적인, 완전한"],
            [42, '연관어', 'absolutely', "ad.완전히, 전적으로"],
            [47, '표제어', 'absorb', "v.흡수하다, (정보를) 받아들이다"],
            [47, '연관어', 'absorption', "n.흡수, 통합, 몰두"],
            [4, '표제어', 'abstract', "a.추상적인"],
            [4, '연관어', 'abstraction', "n.추상, 관념"],
            [17, '표제어', 'abundant', "a.풍부한, 풍족한"],
            [17, '연관어', 'abundance', "n.풍부, 풍요"],
            [34, '표제어', 'abuse', "v.남용하다, 오용하다 n.남용, 오용"],
            [34, '연관어', 'abusive', "a.학대하는"],
            [28, '표제어', 'academic', "a.학업의, 학문의  n.학자"],
            [28, '연관어', 'academically', "ad.학문적으로"],
            [13, '표제어', 'accelerate', "v.가속하다, 빨라지다"],
            [13, '연관어', 'acceleration', "n.가속, 촉진"],
            [15, '표제어', 'accessory', "n.부속물"],
            [15, '연관어', 'access', "v.접근하다 n.접근"],
            [40, '표제어', 'accommodate', "v.수용하다, 편의를 도모하다"],
            [40, '연관어', 'accommodation', "n.숙소, 수용 시설"],
            [11, '표제어', 'accord', "v.부합하다, 일치하다 n.일치, 합의"],
            [11, '연관어', 'accordingly', "ad.그에 따라서"],
            [12, '표제어', 'account', "v.설명하다, (비율을) 차지하다 n.계좌, 설명, 기사"],
            [12, '연관어', 'accountable', "a.책임이 있는"],
            [4, '표제어', 'acknowledge', "v.인정하다, 승인하다"],
            [4, '연관어', 'acknowledgement', "n.인정, 승인, 감사"],
            [10, '표제어', 'acquire', "v.습득하다, 얻다"],
            [10, '연관어', 'acquisition', "n.습득, 취득"],
            [11, '표제어', 'addict', "v.중독시키다 n.중독자"],
            [11, '연관어', 'addiction', "n.중독"],
            [23, '표제어', 'adequate', "a.충분한"],
            [23, '연관어', 'adequately', "ad.충분히"],
            [24, '표제어', 'adolescent', "n.청소년, 청년 a.청소년의"],
            [24, '연관어', 'adolescence', "n.청소년기"],
            [10, '표제어', 'adopt', "v.입양하다, 채택하다"],
            [10, '연관어', 'adoption', "n.입양, 채택"],
            [17, '표제어', 'advance', "v.전진하다, 진보하다 n.전진, 진보"],
            [17, '연관어', 'advanced', "a.선진의, 고급의"],
            [23, '표제어', 'adventure', "n.모험"],
            [23, '연관어', 'adventurous', "a.모험적인"],
            [24, '표제어', 'advertise', "v.광고하다, 홍보하다"],
            [24, '연관어', 'advertisement', "n.광고"],
            [31, '표제어', 'advocate', "v.지지하다, 옹호하다 n.지지자, 옹호자"],
            [31, '연관어', 'advocacy', "n.지지, 옹호"],
            [32, '표제어', 'affiliate', "v.가입시키다, 제휴하다 n.계열사"],
            [32, '연관어', 'affiliation', "n.가입, 제휴"],
            [33, '표제어', 'afford', "v.감당하다, 여유가 되다"],
            [33, '연관어', 'affordable', "a.감당할 수 있는"],
            [36, '표제어', 'agency', "n.대리점, 기관"],
            [36, '연관어', 'agent', "n.대리인, 중개인"],
            [37, '표제어', 'agony', "n.고통, 고뇌"],
            [37, '연관어', 'agonize', "v.고뇌하다"],
            [38, '표제어', 'aid', "v.돕다, 원조하다 n.도움, 원조"],
            [31, '표제어', 'aircraft', "n.항공기, 비행기"],
            [31, '연관어', 'airplane', "n.비행기"],
            [38, '연관어', 'aide', "n.보좌관"],
            [39, '표제어', 'aim', "v.목표로 하다, 겨냥하다 n.목표, 목적"],
            [39, '연관어', 'aimless', "a.목표 없는"],
            [39, '표제어', 'aisle', "n.통로 (극장의 복도, 기내 통로 등)"],
            [39, '연관어', 'island', "n.섬"],
            [40, '표제어', 'albeit', "비록 ~일지라도"],
            [40, '연관어', 'although', "비록 ~일지라도"],
            [1, '표제어', 'allocate', "v.할당하다, 배분하다"],
            [1, '연관어', 'allocation', "n.할당, 배분"],
            [1, '표제어', 'altogether', "ad.전적으로, 모두 합해서"],
            [1, '연관어', 'all together', "다 함께"],
            [3, '표제어', 'amateur', "n.아마추어, 비전문가"],
            [3, '연관어', 'professional', "n.전문가"],
            [41, '표제어', 'ambition', "n.야망, 포부"],
            [41, '연관어', 'ambitious', "a.야망 있는"],
            [41, '표제어', 'amusement', "n.재미, 오락"],
            [41, '연관어', 'amuse', "v.즐겁게 하다"],
            [42, '표제어', 'ancestor', "n.조상, 선조"],
            [42, '연관어', 'descendant', "n.후손, 자손"],
            [42, '표제어', 'annoy', "v.짜증나게 하다"],
            [42, '연관어', 'annoyance', "n.짜증, 성가심"],
            [42, '표제어', 'anticipate', "v.예상하다, 기대하다"],
            [42, '연관어', 'anticipation', "n.예상, 기대"],
            [44, '표제어', 'appeal', "v.호소하다, 항소하다 n.매력, 호소"],
            [44, '연관어', 'appealing', "a.매력적인, 호소하는"],
            [44, '표제어', 'applaud', "v.박수 치다, 칭찬하다"],
            [44, '연관어', 'applause', "n.박수, 칭찬"],
            [45, '표제어', 'appoint', "v.임명하다, 정하다"],
            [45, '연관어', 'appointment', "n.약속, 임명"],
            [45, '표제어', 'appreciate', "v.감사하다, 진가를 인정하다"],
            [45, '연관어', 'appreciation', "n.감사, 인정"],
            [46, '표제어', 'appropriate', "a.적절한, 적합한"],
            [46, '연관어', 'appropriately', "ad.적절하게"],
            [46, '표제어', 'arbitrary', "a.임의적인, 독단적인"],
            [46, '연관어', 'arbitrarily', "ad.임의로, 독단적으로"],
            [47, '표제어', 'archive', "n.기록 보관소, 기록"],
            [47, '연관어', 'archived', "a.기록 보관된"],
            [47, '표제어', 'arise', "v.발생하다, 생겨나다"],
            [47, '연관어', 'arose', "v.발생했다 (과거형)"],
            [48, '표제어', 'arrogant', "a.오만한, 거만한"],
            [48, '연관어', 'arrogance', "n.오만, 거만"],
            [48, '표제어', 'artificial', "a.인공적인, 가짜의"],
            [48, '연관어', 'artificially', "ad.인위적으로"],
            [49, '표제어', 'assault', "v.폭행하다, 공격하다 n.폭행, 공격"],
            [49, '연관어', 'attacker', "n.공격자"],
            [49, '표제어', 'assert', "v.주장하다, 단언하다"],
            [49, '연관어', 'assertion', "n.주장, 단언"],
            [50, '표제어', 'assess', "v.평가하다, 사정하다"],
            [50, '연관어', 'assessment', "n.평가, 사정"],
            [50, '표제어', 'assume', "v.가정하다, 추정하다"],
            [50, '연관어', 'assumption', "n.가정, 추정"],
            [1, '표제어', 'accelerate', "v.가속하다, 빨라지다"],
            [1, '연관어', 'acceleration', "n.가속, 촉진"],
            [2, '표제어', 'abandon', "v.버리다, 포기하다"],
            [2, '연관어', 'abandonment', "n.포기"],
            [3, '표제어', 'ability', "n.능력, 재능"],
            [3, '연관어', 'able', "a.할 수 있는"],
            [4, '표제어', 'abolish', "v.폐지하다, 없애다"],
            [4, '연관어', 'abolition', "n.폐지"],
            [5, '표제어', 'abroad', "ad.해외로"],
            [5, '연관어', 'broad', "a.넓은"],
            [6, '표제어', 'absence', "n.부재, 결석, 결근"],
            [6, '연관어', 'absent', "a.결석한"],
            [7, '표제어', 'absolute', "a.절대적인, 완전한"],
            [7, '연관어', 'absolutely', "ad.완전히"],
            [8, '표제어', 'absorb', "v.흡수하다"],
            [8, '연관어', 'absorption', "n.흡수"],
            [9, '표제어', 'abstract', "a.추상적인"],
            [9, '연관어', 'abstraction', "n.추상"],
            [10, '표제어', 'abundant', "a.풍부한"],
            [10, '연관어', 'abundance', "n.풍부"],
            [11, '표제어', 'abuse', "v.남용하다, 오용하다 n.남용, 오용"],
            [11, '연관어', 'abusive', "a.학대하는"],
            [12, '표제어', 'academic', "a.학업의, 학문의  n.학자"],
            [12, '연관어', 'academically', "ad.학문적으로"],
            [13, '표제어', 'accommodate', "v.수용하다, 편의를 도모하다"],
            [13, '연관어', 'accommodation', "n.숙소"],
            [14, '표제어', 'accord', "v.부합하다, 일치하다 n.일치, 합의"],
            [14, '연관어', 'accordingly', "ad.그에 따라서"],
            [15, '표제어', 'account', "v.설명하다 n.계좌, 설명"],
            [15, '연관어', 'accountable', "a.책임이 있는"],
            [16, '표제어', 'acknowledge', "v.인정하다, 승인하다"],
            [16, '연관어', 'acknowledgement', "n.인정"],
            [17, '표제어', 'acquire', "v.습득하다, 얻다"],
            [17, '연관어', 'acquisition', "n.습득"],
            [18, '표제어', 'addict', "v.중독시키다 n.중독자"],
            [18, '연관어', 'addiction', "n.중독"],
            [19, '표제어', 'adequate', "a.충분한"],
            [19, '연관어', 'adequately', "ad.충분히"],
            [20, '표제어', 'adolescent', "n.청소년, 청년 a.청소년의"],
            [20, '연관어', 'adolescence', "n.청소년기"],
            [21, '표제어', 'adopt', "v.입양하다, 채택하다"],
            [21, '연관어', 'adoption', "n.입양, 채택"],
            [22, '표제어', 'advance', "v.전진하다, 진보하다 n.전진, 진보"],
            [22, '연관어', 'advanced', "a.선진의"],
            [23, '표제어', 'adventure', "n.모험"],
            [23, '연관어', 'adventurous', "a.모험적인"],
            [24, '표제어', 'advertise', "v.광고하다, 홍보하다"],
            [24, '연관어', 'advertisement', "n.광고"],
            [25, '표제어', 'advocate', "v.지지하다, 옹호하다 n.지지자"],
            [25, '연관어', 'advocacy', "n.지지, 옹호"],
            [26, '표제어', 'affiliate', "v.가입시키다, 제휴하다 n.계열사"],
            [26, '연관어', 'affiliation', "n.가입, 제휴"],
            [27, '표제어', 'afford', "v.감당하다, 여유가 되다"],
            [27, '연관어', 'affordable', "a.감당할 수 있는"],
            [28, '표제어', 'agency', "n.대리점, 기관"],
            [28, '연관어', 'agent', "n.대리인"],
            [29, '표제어', 'agony', "n.고통, 고뇌"],
            [29, '연관어', 'agonize', "v.고뇌하다"],
            [30, '표제어', 'aid', "v.돕다, 원조하다 n.도움, 원조"],
            [30, '연관어', 'aide', "n.보좌관"],
            [31, '표제어', 'aircraft', "n.항공기, 비행기"],
            [31, '연관어', 'airplane', "n.비행기"],
            [32, '표제어', 'aim', "v.목표로 하다, 겨냥하다 n.목표, 목적"],
            [32, '연관어', 'aimless', "a.목표 없는"],
            [33, '표제어', 'aisle', "n.통로"],
            [33, '연관어', 'island', "n.섬"],
            [34, '표제어', 'albeit', "비록 ~일지라도"],
            [34, '연관어', 'although', "비록 ~일지라도"],
            [35, '표제어', 'allocate', "v.할당하다, 배분하다"],
            [35, '연관어', 'allocation', "n.할당, 배분"],
            [36, '표제어', 'altogether', "ad.전적으로, 모두 합해서"],
            [36, '연관어', 'all together', "다 함께"],
            [33, '표제어', 'amateur', "n.아마추어, 비전문가"],
            [33, '연관어', 'professional', "n.전문가"],
            [38, '표제어', 'ambition', "n.야망, 포부"],
            [38, '연관어', 'ambitious', "a.야망 있는"],
            [39, '표제어', 'amusement', "n.재미, 오락"],
            [39, '연관어', 'amuse', "v.즐겁게 하다"],
            [40, '표제어', 'ancestor', "n.조상, 선조"],
            [40, '연관어', 'descendant', "n.후손, 자손"],
            [41, '표제어', 'annoy', "v.짜증나게 하다"],
            [41, '연관어', 'annoyance', "n.짜증"],
            [42, '표제어', 'anticipate', "v.예상하다, 기대하다"],
            [42, '연관어', 'anticipation', "n.예상, 기대"],
            [43, '표제어', 'appeal', "v.호소하다, 항소하다 n.매력, 호소"],
            [43, '연관어', 'appealing', "a.매력적인"],
            [44, '표제어', 'applaud', "v.박수 치다, 칭찬하다"],
            [44, '연관어', 'applause', "n.박수"],
            [44, '표제어', 'appoint', "v.임명하다, 정하다"],
            [44, '연관어', 'appointment', "n.약속, 임명"],
            [45, '표제어', 'appreciate', "v.감사하다, 진가를 인정하다"],
            [45, '연관어', 'appreciation', "n.감사, 인정"],
            [46, '표제어', 'appropriate', "a.적절한, 적합한"],
            [46, '연관어', 'appropriately', "ad.적절하게"],
            [47, '표제어', 'arbitrary', "a.임의적인, 독단적인"],
            [47, '연관어', 'arbitrarily', "ad.임의로"],
            [48, '표제어', 'archive', "n.기록 보관소, 기록"],
            [48, '연관어', 'archived', "a.기록 보관된"],
            [49, '표제어', 'arise', "v.발생하다, 생겨나다"],
            [49, '연관어', 'arose', "v.발생했다 (과거형)"],
            [50, '표제어', 'arrogant', "a.오만한, 거만한"],
            [50, '연관어', 'arrogance', "n.오만"],
            [1, '표제어', 'artificial', "a.인공적인, 가짜의"],
            [1, '연관어', 'artificially', "ad.인위적으로"],
            [2, '표제어', 'assault', "v.폭행하다, 공격하다 n.폭행, 공격"],
            [2, '연관어', 'attacker', "n.공격자"],
            [3, '표제어', 'assert', "v.주장하다, 단언하다"],
            [3, '연관어', 'assertion', "n.주장"],
            [4, '표제어', 'assess', "v.평가하다, 사정하다"],
            [4, '연관어', 'assessment', "n.평가"],
            [5, '표제어', 'assume', "v.가정하다, 추정하다"],
            [5, '연관어', 'assumption', "n.가정, 추정"],
            [6, '표제어', 'assurance', "n.확신, 보증"],
            [6, '연관어', 'assure', "v.확신시키다"],
            [7, '표제어', 'attach', "v.첨부하다, 붙이다"],
            [7, '연관어', 'attachment', "n.첨부 파일"],
            [8, '표제어', 'attain', "v.달성하다, 이루다"],
            [8, '연관어', 'attainment', "n.달성, 성취"],
            [9, '표제어', 'attend', "v.참석하다, 돌보다"],
            [9, '연관어', 'attendance', "n.출석"],
            [10, '표제어', 'attribute', "v.~의 탓으로 돌리다 n.속성"],
            [10, '연관어', 'attribution', "n.귀속, 속성"],
            [11, '표제어', 'auction', "n.경매 v.경매하다"],
            [11, '연관어', 'auctioneer', "n.경매인"],
            [12, '표제어', 'authority', "n.권한, 당국"],
            [12, '연관어', 'authoritative', "a.권위 있는"],
            [13, '표제어', 'automate', "v.자동화하다"],
            [13, '연관어', 'automation', "n.자동화"],
            [14, '표제어', 'available', "a.이용 가능한"],
            [14, '연관어', 'availability', "n.유용성"],
            [15, '표제어', 'avenue', "n.거리, 수단"],
            [15, '연관어', 'street', "n.거리"],
            [16, '표제어', 'aware', "a.알고 있는"],
            [16, '연관어', 'awareness', "n.인식"],
            [17, '표제어', 'awkward', "a.어색한, 서투른"],
            [17, '연관어', 'awkwardly', "ad.어색하게"],
            [18, '표제어', 'background', "n.배경, 경력"],
            [18, '연관어', 'foreground', "n.전경"],
            [19, '표제어', 'bargain', "n.싸게 산 물건 v.흥정하다"],
            [19, '연관어', 'bargaining', "n.흥정"],
            [20, '표제어', 'barrier', "n.장벽, 장애물"],
            [20, '연관어', 'obstacle', "n.장애물"],
            [21, '표제어', 'bazaar', "n.시장, 자선시장"],
            [21, '연관어', 'market', "n.시장"],
            [22, '표제어', 'behavior', "n.행동, 태도"],
            [22, '연관어', 'behave', "v.행동하다"],
            [23, '표제어', 'benefit', "n.이점, 혜택 v.이익을 얻다"],
            [23, '연관어', 'beneficial', "a.이로운"],
            [24, '표제어', 'betray', "v.배신하다, 드러내다"],
            [24, '연관어', 'betrayal', "n.배신"],
            [25, '표제어', 'bias', "n.편견, 성향 v.편견을 갖게 하다"],
            [25, '연관어', 'biased', "a.편향된"],
            [26, '표제어', 'bid', "v.입찰하다, 값을 부르다 n.입찰"],
            [26, '연관어', 'bidding', "n.입찰"],
            [27, '표제어', 'bilingual', "a.이중 언어를 구사하는"],
            [27, '연관어', 'language', "n.언어"],
            [28, '표제어', 'biology', "n.생물학"],
            [28, '연관어', 'biological', "a.생물학적인"],
            [29, '표제어', 'blend', "v.섞다, 혼합하다 n.혼합물"],
            [29, '연관어', 'mixture', "n.혼합물"],
            [30, '표제어', 'boost', "v.끌어올리다, 증대시키다 n.격려"],
            [30, '연관어', 'increase', "v.증가시키다"],
            [31, '표제어', 'bother', "v.괴롭히다, 신경 쓰다 n.골칫거리"],
            [31, '연관어', 'bothersome', "a.성가신"],
            [32, '표제어', 'bounce', "v.튀기다, 탄력 있게 움직이다 n.탄력"],
            [32, '연관어', 'bouncing', "a.활기찬"],
            [33, '표제어', 'boundary', "n.경계, 한계"],
            [33, '연관어', 'border', "n.경계"],
            [34, '표제어', 'brand', "n.상표, 브랜드 v.낙인 찍다"],
            [34, '연관어', 'branding', "n.브랜딩"],
            [35, '표제어', 'brief', "a.간결한, 짧은 n.간결한 보고"],
            [35, '연관어', 'briefly', "ad.간략하게"],
            [36, '표제어', 'bunch', "n.다발, 무리 v.모이다"],
            [36, '연관어', 'bundle', "n.다발"],
            [37, '표제어', 'burden', "n.짐, 부담 v.부담을 주다"],
            [37, '연관어', 'burdensome', "a.부담스러운"],
            [38, '표제어', 'campaign', "n.캠페인, 운동 v.캠페인을 벌이다"],
            [38, '연관어', 'campaigner', "n.운동가"],
            [39, '표제어', 'capacity', "n.용량, 능력"],
            [39, '연관어', 'capable', "a.능력 있는"],
            [40, '표제어', 'capture', "v.붙잡다, 포착하다 n.포획"],
            [40, '연관어', 'capturing', "n.포획"],
            [41, '표제어', 'career', "n.직업, 경력 a.직업적인"],
            [41, '연관어', 'job', "n.직업"],
            [42, '표제어', 'cash', "n.현금 v.현금으로 바꾸다"],
            [42, '연관어', 'casher', "n.출납원"],
            [43, '표제어', 'casualty', "n.사상자, 피해자"],
            [43, '연관어', 'victim', "n.희생자"],
            [44, '표제어', 'category', "n.범주, 분류"],
            [44, '연관어', 'categorize', "v.분류하다"],
            [45, '표제어', 'cease', "v.멈추다, 중지하다"],
            [45, '연관어', 'ceaseless', "a.끊임없는"],
            [46, '표제어', 'celebrate', "v.축하하다, 기념하다"],
            [46, '연관어', 'celebration', "n.축하"],
            [47, '표제어', 'censor', "v.검열하다 n.검열관"],
            [47, '연관어', 'censorship', "n.검열"],
            [48, '표제어', 'challenge', "n.도전, 난제 v.도전하다"],
            [48, '연관어', 'challenging', "a.도전적인"],
            [49, '표제어', 'character', "n.성격, 특징, 등장인물"],
            [49, '연관어', 'characteristic', "n.특징"],
            [50, '표제어', 'chaos', "n.혼란, 무질서"],
            [50, '연관어', 'chaotic', "a.혼란스러운"],
            [1, '표제어', 'charity', "n.자선, 자선단체"],
            [1, '연관어', 'charitable', "a.자선의"],
            [2, '표제어', 'cherish', "v.소중히 여기다, 아끼다"],
            [2, '연관어', 'treasured', "a.소중한"],
            [3, '표제어', 'circuit', "n.회로, 순회"],
            [3, '연관어', 'circuitous', "a.우회하는"],
            [4, '표제어', 'circular', "a.원형의, 순환의 n.안내서"],
            [4, '연관어', 'circle', "n.원"],
            [5, '표제어', 'circulate', "v.순환하다, 유포하다"],
            [5, '연관어', 'circulation', "n.순환"],
            [6, '표제어', 'cite', "v.인용하다, 언급하다"],
            [6, '연관어', 'citation', "n.인용"],
            [7, '표제어', 'civil', "a.시민의, 민간의"],
            [7, '연관어', 'civic', "a.시의"],
            [8, '표제어', 'clarify', "v.명확하게 하다"],
            [8, '연관어', 'clarity', "n.명료함"],
            [9, '표제어', 'classify', "v.분류하다, 등급을 매기다"],
            [9, '연관어', 'classification', "n.분류"],
            [10, '표제어', 'client', "n.의뢰인, 고객"],
            [10, '연관어', 'customer', "n.고객"],
            [11, '표제어', 'climax', "n.절정, 최고조"],
            [11, '연관어', 'peak', "n.정점"],
            [12, '표제어', 'cling', "v.달라붙다, 집착하다"],
            [12, '연관어', 'clinging', "a.달라붙는"],
            [13, '표제어', 'coast', "n.해안, 연안 v.수월하게 움직이다"],
            [13, '연관어', 'coastal', "a.해안의"],
            [14, '표제어', 'coherent', "a.일관성 있는, 논리적인"],
            [14, '연관어', 'coherence', "n.일관성"],
            [15, '표제어', 'coincide', "v.동시에 일어나다, 일치하다"],
            [15, '연관어', 'coincidence', "n.우연의 일치"],
            [16, '표제어', 'collapse', "v.무너지다, 붕괴하다 n.붕괴"],
            [16, '연관어', 'breakdown', "n.붕괴"],
            [17, '표제어', 'colleague', "n.동료"],
            [17, '연관어', 'coworker', "n.동료"],
            [18, '표제어', 'collide', "v.충돌하다"],
            [18, '연관어', 'collision', "n.충돌"],
            [19, '표제어', 'commemorate', "v.기념하다"],
            [19, '연관어', 'commemoration', "n.기념"],
            [20, '표제어', 'commerce', "n.상업, 무역"],
            [20, '연관어', 'commercial', "a.상업적인"],
            [21, '표제어', 'commit', "v.저지르다, 전념하다"],
            [21, '연관어', 'commitment', "n.전념"],
            [22, '표제어', 'commodity', "n.상품, 원자재"],
            [22, '연관어', 'goods', "n.상품"],
            [23, '표제어', 'communicate', "v.의사소통하다"],
            [23, '연관어', 'communication', "n.소통"],
            [24, '표제어', 'community', "n.공동체, 사회"],
            [24, '연관어', 'communal', "a.공동의"],
            [25, '표제어', 'compare', "v.비교하다"],
            [25, '연관어', 'comparison', "n.비교"],
            [26, '표제어', 'compete', "v.경쟁하다"],
            [26, '연관어', 'competition', "n.경쟁"],
            [27, '표제어', 'complain', "v.불평하다"],
            [27, '연관어', 'complaint', "n.불평"],
            [28, '표제어', 'complement', "v.보완하다 n.보완물"],
            [28, '연관어', 'complementary', "a.보완적인"],
            [29, '표제어', 'complicate', "v.복잡하게 만들다"],
            [29, '연관어', 'complicated', "a.복잡한"],
            [30, '표제어', 'compose', "v.구성하다, 작곡하다"],
            [30, '연관어', 'composition', "n.구성"],
            [31, '표제어', 'comprehend', "v.이해하다, 파악하다"],
            [31, '연관어', 'comprehension', "n.이해력"],
            [32, '표제어', 'comprise', "v.구성하다, 포함하다"],
            [32, '연관어', 'include', "v.포함하다"],
            [33, '표제어', 'conceal', "v.숨기다, 감추다"],
            [33, '연관어', 'concealment', "n.은폐"],
            [34, '표제어', 'concede', "v.인정하다, 양보하다"],
            [34, '연관어', 'concession', "n.양보"],
            [35, '표제어', 'concentrate', "v.집중하다"],
            [35, '연관어', 'concentration', "n.집중"],
            [36, '표제어', 'concept', "n.개념"],
            [36, '연관어', 'conception', "n.구상"],
            [37, '표제어', 'conclude', "v.결론짓다, 끝내다"],
            [37, '연관어', 'conclusion', "n.결론"],
            [38, '표제어', 'concrete', "a.구체적인, 콘크리트 n.콘크리트"],
            [38, '연관어', 'concretely', "ad.구체적으로"],
            [39, '표제어', 'concur', "v.동의하다, 동시에 일어나다"],
            [39, '연관어', 'concurrence', "n.동의"],
            [40, '표제어', 'condemn', "v.비난하다, 선고하다"],
            [40, '연관어', 'condemnation', "n.비난"],
            [41, '표제어', 'conduct', "v.수행하다, 지휘하다 n.행동, 수행"],
            [41, '연관어', 'conductor', "n.지휘자"],
            [42, '표제어', 'confer', "v.협의하다, 수여하다"],
            [42, '연관어', 'conference', "n.회의"],
            [43, '표제어', 'confess', "v.고백하다, 인정하다"],
            [43, '연관어', 'confession', "n.고백"],
            [44, '표제어', 'confine', "v.국한하다, 가두다"],
            [44, '연관어', 'confinement', "n.감금"],
            [45, '표제어', 'confirm', "v.확인하다, 확정하다"],
            [45, '연관어', 'confirmation', "n.확인"],
            [46, '표제어', 'conflict', "n.갈등, 충돌 v.충돌하다"],
            [46, '연관어', 'conflicting', "a.상충되는"],
            [47, '표제어', 'conform', "v.순응하다, 일치하다"],
            [47, '연관어', 'conformity', "n.순응"],
            [48, '표제어', 'confront', "v.직면하다, 맞서다"],
            [48, '연관어', 'confrontation', "n.대립"],
            [49, '표제어', 'confuse', "v.혼란스럽게 하다"],
            [49, '연관어', 'confusion', "n.혼란"],
            [50, '표제어', 'congratulate', "v.축하하다"],
            [50, '연관어', 'congratulation', "n.축하"],
            [1, '표제어', 'connect', "v.연결하다"],
            [1, '연관어', 'connection', "n.연결"],
            [2, '표제어', 'consequence', "n.결과, 중요성"],
            [2, '연관어', 'consequently', "ad.결과적으로"],
            [3, '표제어', 'conserve', "v.보존하다, 보호하다"],
            [3, '연관어', 'conservation', "n.보존"],
            [4, '표제어', 'consider', "v.고려하다, 생각하다"],
            [4, '연관어', 'considerable', "a.상당한"],
            [5, '표제어', 'consist', "v.구성되다"],
            [5, '연관어', 'consistency', "n.일관성"],
            [6, '표제어', 'constant', "a.끊임없는, 불변의 n.불변의 것"],
            [6, '연관어', 'constantly', "ad.끊임없이"],
            [7, '표제어', 'constitute', "v.구성하다, 설립하다"],
            [7, '연관어', 'constitution', "n.헌법"],
            [8, '표제어', 'constrain', "v.강요하다, 제한하다"],
            [8, '연관어', 'constraint', "n.제한"],
            [9, '표제어', 'construct', "v.건설하다, 구성하다"],
            [9, '연관어', 'construction', "n.건설"],
            [10, '표제어', 'consume', "v.소비하다"],
            [10, '연관어', 'consumption', "n.소비"],
            [11, '표제어', 'contaminate', "v.오염시키다"],
            [11, '연관어', 'contamination', "n.오염"],
            [12, '표제어', 'contemplate', "v.심사숙고하다, 응시하다"],
            [12, '연관어', 'contemplation', "n.심사숙고"],
            [13, '표제어', 'contemporary', "a.현대의, 동시대의 n.동시대 사람"],
            [13, '연관어', 'modern', "a.현대의"],
            [14, '표제어', 'contend', "v.다투다, 주장하다"],
            [14, '연관어', 'contention', "n.논쟁"],
            [15, '표제어', 'context', "n.문맥, 배경"],
            [15, '연관어', 'contextual', "a.문맥상의"],
            [16, '표제어', 'contrast', "n.대조, 대비 v.대조하다"],
            [16, '연관어', 'contrasting', "a.대조적인"],
            [17, '표제어', 'contribute', "v.기여하다, 공헌하다"],
            [17, '연관어', 'contribution', "n.기여"],
            [18, '표제어', 'controversy', "n.논쟁, 논란"],
            [18, '연관어', 'controversial', "a.논란이 많은"],
            [19, '표제어', 'convene', "v.소집하다, 모이다"],
            [19, '연관어', 'convention', "n.회의"],
            [20, '표제어', 'convert', "v.전환하다, 개종하다"],
            [20, '연관어', 'conversion', "n.전환"],
            [21, '표제어', 'convince', "v.납득시키다, 확신시키다"],
            [21, '연관어', 'convincing', "a.설득력 있는"],
            [22, '표제어', 'cooperate', "v.협력하다"],
            [22, '연관어', 'cooperation', "n.협력"],
            [23, '표제어', 'coordinate', "v.조정하다, 협력하다 n.좌표"],
            [23, '연관어', 'coordination', "n.조정"],
            [24, '표제어', 'cope', "v.대처하다, 처리하다"],
            [24, '연관어', 'coping', "n.대처"],
            [25, '표제어', 'corpse', "n.시체"],
            [25, '연관어', 'body', "n.몸"],
            [26, '표제어', 'counsel', "v.상담하다 n.상담"],
            [26, '연관어', 'counselor', "n.상담가"],
            [27, '표제어', 'counterpart', "n.대응하는 사람/것"],
            [27, '연관어', 'match', "n.짝"],
            [28, '표제어', 'crave', "v.갈망하다, 간청하다"],
            [28, '연관어', 'craving', "n.갈망"],
            [29, '표제어', 'create', "v.창조하다, 만들어내다"],
            [29, '연관어', 'creation', "n.창조"],
            [30, '표제어', 'credit', "n.신용, 학점 v.신용하다"],
            [30, '연관어', 'creditable', "a.신뢰할 만한"],
            [31, '표제어', 'crisis', "n.위기"],
            [31, '연관어', 'critical', "a.위기의"],
            [32, '표제어', 'criterion', "n.기준"],
            [32, '연관어', 'criteria', "n.기준들"],
            [33, '표제어', 'criticize', "v.비판하다"],
            [33, '연관어', 'criticism', "n.비판"],
            [34, '표제어', 'crucial', "a.결정적인, 중대한"],
            [34, '연관어', 'critically', "ad.결정적으로"],
            [35, '표제어', 'culminate', "v.절정에 달하다"],
            [35, '연관어', 'culmination', "n.정점"],
            [36, '표제어', 'cultivate', "v.경작하다, 양성하다"],
            [36, '연관어', 'cultivation', "n.경작"],
            [37, '표제어', 'culture', "n.문화"],
            [37, '연관어', 'cultural', "a.문화적인"],
            [38, '표제어', 'curious', "a.궁금한, 호기심 많은"],
            [38, '연관어', 'curiosity', "n.호기심"],
            [39, '표제어', 'currency', "n.통화, 유통"],
            [39, '연관어', 'current', "a.현재의"],
            [40, '표제어', 'custom', "n.관습, 세관"],
            [40, '연관어', 'customary', "a.관습적인"],
            [41, '표제어', 'cycle', "n.주기, 순환 v.순환하다"],
            [41, '연관어', 'cyclical', "a.주기적인"],
            [42, '표제어', 'damage', "n.손해, 피해 v.손상시키다"],
            [42, '연관어', 'damaging', "a.해로운"],
            [43, '표제어', 'decent', "a.괜찮은, 적절한"],
            [43, '연관어', 'decency', "n.품위"],
            [44, '표제어', 'decline', "v.감소하다, 거절하다 n.감소"],
            [44, '연관어', 'declining', "a.감소하는"],
            [45, '표제어', 'dedicate', "v.헌신하다, 바치다"],
            [45, '연관어', 'dedicated', "a.헌신적인"],
            [46, '표제어', 'defend', "v.방어하다"],
            [46, '연관어', 'defense', "n.방어"],
            [47, '표제어', 'deficit', "n.적자, 부족액"],
            [47, '연관어', 'deficiency', "n.결핍"],
            [48, '표제어', 'defy', "v.반항하다, 무시하다"],
            [48, '연관어', 'defiance', "n.반항"],
            [49, '표제어', 'delegate', "v.위임하다 n.대표"],
            [49, '연관어', 'delegation', "n.대표단"],
            [50, '표제어', 'deliberate', "a.고의적인, 신중한 v.심사숙고하다"],
            [50, '연관어', 'deliberately', "ad.고의적으로"],
            [1, '표제어', 'demonstrate', "v.입증하다, 시연하다"],
            [1, '연관어', 'demonstration', "n.시연"],
            [2, '표제어', 'deny', "v.부인하다, 거부하다"],
            [2, '연관어', 'denial', "n.부인"],
            [3, '표제어', 'depart', "v.출발하다, 벗어나다"],
            [3, '연관어', 'departure', "n.출발"],
            [4, '표제어', 'depict', "v.묘사하다"],
            [4, '연관어', 'depiction', "n.묘사"],
            [5, '표제어', 'deposit', "v.예금하다, 맡기다 n.보증금"],
            [5, '연관어', 'depositary', "n.수탁자"],
            [6, '표제어', 'derive', "v.끌어내다, 유래하다"],
            [6, '연관어', 'derivation', "n.파생"],
            [7, '표제어', 'deserve', "v.~할 자격이 있다"],
            [7, '연관어', 'deserving', "a.~할 자격이 있는"],
            [8, '표제어', 'designate', "v.지정하다, 지명하다 a.지명된"],
            [8, '연관어', 'designation', "n.지정"],
            [9, '표제어', 'despair', "n.절망 v.절망하다"],
            [9, '연관어', 'desperate', "a.절망적인"],
            [10, '표제어', 'destine', "v.~할 운명으로 정하다"],
            [10, '연관어', 'destiny', "n.운명"],
            [11, '표제어', 'detain', "v.구금하다, 지체시키다"],
            [11, '연관어', 'detention', "n.구금"],
            [12, '표제어', 'detect', "v.감지하다, 발견하다"],
            [12, '연관어', 'detection', "n.탐지"],
            [13, '표제어', 'deteriorate', "v.악화되다"],
            [13, '연관어', 'deterioration', "n.악화"],
            [14, '표제어', 'determine', "v.결정하다, 측정하다"],
            [14, '연관어', 'determination', "n.결정"],
            [15, '표제어', 'deviate', "v.벗어나다"],
            [15, '연관어', 'deviation', "n.일탈"],
            [16, '표제어', 'devote', "v.헌신하다, 바치다"],
            [16, '연관어', 'devotion', "n.헌신"],
            [17, '표제어', 'diagnose', "v.진단하다"],
            [17, '연관어', 'diagnosis', "n.진단"],
            [18, '표제어', 'dictate', "v.지시하다, 받아쓰게 하다"],
            [18, '연관어', 'dictation', "n.받아쓰기"],
            [19, '표제어', 'differentiate', "v.구별하다"],
            [19, '연관어', 'differentiation', "n.차별화"],
            [20, '표제어', 'diminish', "v.줄어들다"],
            [20, '연관어', 'diminution', "n.축소"],
            [21, '표제어', 'disclose', "v.폭로하다"],
            [21, '연관어', 'disclosure', "n.폭로"],
            [22, '표제어', 'discount', "n.할인 v.할인하다"],
            [22, '연관어', 'discountable', "a.할인 가능한"],
            [23, '표제어', 'discrepancy', "n.불일치, 차이"],
            [23, '연관어', 'discrepant', "a.불일치하는"],
            [24, '표제어', 'disguise', "v.변장하다 n.변장"],
            [24, '연관어', 'disguised', "a.변장한"],
            [25, '표제어', 'dispense', "v.분배하다, 나누어 주다"],
            [25, '연관어', 'dispenser', "n.분배기"],
            [26, '표제어', 'disperse', "v.흩어지다"],
            [26, '연관어', 'dispersion', "n.분산"],
            [27, '표제어', 'displace', "v.대체하다, 쫓아내다"],
            [27, '연관어', 'displacement', "n.이동"],
            [28, '표제어', 'display', "v.전시하다, 보여주다 n.전시"],
            [28, '연관어', 'displayed', "a.전시된"],
            [29, '표제어', 'dispose', "v.처리하다, 배치하다"],
            [29, '연관어', 'disposal', "n.처리"],
            [30, '표제어', 'dispute', "n.논쟁 v.논쟁하다"],
            [30, '연관어', 'disputable', "a.논쟁의 여지가 있는"],
            [31, '표제어', 'dissolve', "v.녹이다, 해산시키다"],
            [31, '연관어', 'dissolution', "n.해산"],
            [32, '표제어', 'distinct', "a.뚜렷한, 별개의"],
            [32, '연관어', 'distinction', "n.차이"],
            [33, '표제어', 'distort', "v.왜곡하다"],
            [33, '연관어', 'distortion', "n.왜곡"],
            [34, '표제어', 'distress', "n.고통 v.괴롭히다"],
            [34, '연관어', 'distressing', "a.괴로운"],
            [35, '표제어', 'divert', "v.전환시키다, 우회시키다"],
            [35, '연관어', 'diversion', "n.전환"],
            [36, '표제어', 'domestic', "a.국내의, 가정의 n.하인"],
            [36, '연관어', 'domestically', "ad.국내에서"],
            [37, '표제어', 'dominate', "v.지배하다, 우세하다"],
            [37, '연관어', 'domination', "n.지배"],
            [38, '표제어', 'donate', "v.기부하다"],
            [38, '연관어', 'donation', "n.기부"],
            [39, '표제어', 'draft', "n.초안, 징병 v.초안을 작성하다"],
            [39, '연관어', 'drafter', "n.작성자"],
            [40, '표제어', 'dramatic', "a.극적인, 인상적인"],
            [40, '연관어', 'dramatically', "ad.극적으로"],
            [41, '표제어', 'durable', "a.내구성이 있는, 오래가는"],
            [41, '연관어', 'durability', "n.내구성"],
            [42, '표제어', 'eager', "a.열망하는"],
            [42, '연관어', 'eagerness', "n.열망"],
            [43, '표제어', 'elaborate', "a.정교한 v.상세히 설명하다"],
            [43, '연관어', 'elaboration', "n.정교함"],
            [44, '표제어', 'elect', "v.선출하다"],
            [44, '연관어', 'election', "n.선거"],
            [45, '표제어', 'eligible', "a.자격이 있는"],
            [45, '연관어', 'eligibility', "n.자격"],
            [46, '표제어', 'eliminate', "v.제거하다"],
            [46, '연관어', 'elimination', "n.제거"],
            [47, '표제어', 'emerge', "v.나타나다, 출현하다"],
            [47, '연관어', 'emergence', "n.출현"],
            [48, '표제어', 'emphasize', "v.강조하다"],
            [48, '연관어', 'emphasis', "n.강조"],
            [49, '표제어', 'employ', "v.고용하다"],
            [49, '연관어', 'employee', "n.직원"],
            [50, '표제어', 'encourage', "v.격려하다"],
            [50, '연관어', 'encouragement', "n.격려"]
        ];
        
        // 2. DOM 요소 참조
        const settingsView = document.getElementById('settings-view');
        const printView = document.getElementById('print-view');
        const chapterGrid = document.getElementById('chapter-grid');
        const questionCountInput = document.getElementById('question-count');
        const wordTypeSelect = document.getElementById('word-type');
        const testDirectionSelect = document.getElementById('test-direction');
        const generateBtn = document.getElementById('generate-btn');
        const printSheetBtn = document.getElementById('print-sheet-btn');
        const backToSettingsBtn = document.getElementById('back-to-settings');
        const testSheetContainer = document.getElementById('test-sheet-container');
        const answerSheetContainer = document.getElementById('answer-sheet-container');
        const errorMessageDiv = document.getElementById('error-message');

        // 3. 단어 데이터 정제 및 챕터 목록 생성
        const vocabulary = rawCSVData.map(row => {
            const meaning = row[3];
            const cleanMeaning = meaning
                .replace(/(\s*v\.|n\.|a\.|ad\.)\s*/g, '')
                .replace(/[\"']/g, '')
                .replace(/\s*\(.*\)/g, '')
                .split(',')
                .map(s => s.trim())
                .join(', ');
            
            return {
                chapter: row[0],
                type: row[1],
                word: row[2].trim(),
                meaning: cleanMeaning.trim()
            };
        });

        // 4. 챕터 목록 생성
        function generateChapterCheckboxes() {
            const allChapters = [...new Set(vocabulary.map(item => item.chapter))].sort((a, b) => a - b);
            
            allChapters.forEach(chapter => {
                const chapterId = `ch-${chapter}`;
                const label = document.createElement('label');
                label.className = 'inline-flex items-center';
                label.innerHTML = `
                    <input type="checkbox" id="${chapterId}" value="${chapter}" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                    <span class="ml-1 text-sm">${chapter}</span>
                `;
                chapterGrid.appendChild(label);
            });
        }

        // 5. 배열을 랜덤하게 섞는 함수
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // 6. 테스트지/정답지 생성 함수
        function generateSheets() {
            errorMessageDiv.classList.add('hidden');
            
            // 1. 설정 값 가져오기
            const selectedChapters = Array.from(chapterGrid.querySelectorAll('input:checked')).map(cb => parseInt(cb.value));
            const requestedCount = parseInt(questionCountInput.value);
            const wordType = wordTypeSelect.value;
            const direction = testDirectionSelect.value;
            
            if (selectedChapters.length === 0) {
                errorMessageDiv.textContent = '적어도 하나의 Chapter를 선택해야 합니다.';
                errorMessageDiv.classList.remove('hidden');
                return;
            }
            
            if (requestedCount < 1) {
                errorMessageDiv.textContent = '문항 수는 1개 이상이어야 합니다.';
                errorMessageDiv.classList.remove('hidden');
                return;
            }

            // 2. 필터링
            let filteredWords = vocabulary.filter(word => {
                const chapterMatch = selectedChapters.includes(word.chapter);
                const typeMatch = wordType === 'all' ? true : (word.type === '표제어');
                return chapterMatch && typeMatch;
            });
            
            if (filteredWords.length === 0) {
                errorMessageDiv.textContent = '선택한 조건에 맞는 단어가 없습니다. Chapter나 유형을 변경해 주세요.';
                errorMessageDiv.classList.remove('hidden');
                return;
            }

            // 3. 랜덤 추출 및 섞기
            const shuffledWords = shuffleArray(filteredWords);
            const wordsToTest = shuffledWords.slice(0, requestedCount);
            const finalCount = wordsToTest.length;

            if (finalCount < requestedCount) {
                errorMessageDiv.textContent = `요청한 문항 수(${requestedCount}개)를 모두 채울 수 없습니다. ${finalCount}개의 문항만 생성됩니다. (현재 선택된 단어 총 개수: ${filteredWords.length}개)`;
                errorMessageDiv.classList.remove('hidden');
            }

            // 4. 테스트지 및 정답지 내용 생성
            let testSheetHTML = `<div class="p-4">
                <div class="sheet-header">
                    <h2 class="text-xl font-bold mb-1">단어 테스트지</h2>
                    <p class="text-sm">
                        Chapter: ${selectedChapters.join(', ')} | 
                        유형: ${wordType === 'all' ? '전체' : '표제어'} | 
                        방향: ${direction === 'en_to_ko' ? '영어→한글' : '한글→영어'} |
                        문항 수: ${finalCount}
                    </p>
                </div>
                <div class="test-body grid grid-cols-2 gap-x-10">
            `;
            
            let answerSheetHTML = `<div class="p-4">
                <div class="sheet-header">
                    <h2 class="text-xl font-bold mb-1 text-red-600">정답지 (Answer Key)</h2>
                    <p class="text-sm">
                        Chapter: ${selectedChapters.join(', ')} | 
                        유형: ${wordType === 'all' ? '전체' : '표제어'} | 
                        문항 수: ${finalCount}
                    </p>
                </div>
                <div class="answer-body grid grid-cols-2 gap-x-10">
            `;

            wordsToTest.forEach((item, index) => {
                const prompt = direction === 'en_to_ko' ? item.word : item.meaning;
                const answer = direction === 'en_to_ko' ? item.meaning : item.word;
                const questionNumber = index + 1;

                // 테스트지 항목
                testSheetHTML += `
                    <div class="word-item">
                        <span class="word-item-index">${questionNumber}.</span>
                        <span class="word-item-prompt">${prompt}</span>
                        <span class="word-item-answer"></span>
                    </div>
                `;

                // 정답지 항목
                answerSheetHTML += `
                    <div class="word-item">
                        <span class="word-item-index text-red-600">${questionNumber}.</span>
                        <span class="word-item-prompt">${prompt}</span>
                        <span class="word-item-answer text-red-700 font-medium">${answer}</span>
                    </div>
                `;
            });

            testSheetHTML += `</div></div>`;
            answerSheetHTML += `</div></div>`;

            // 5. 화면 전환 및 내용 표시
            testSheetContainer.innerHTML = testSheetHTML;
            answerSheetContainer.innerHTML = answerSheetHTML;

            settingsView.style.display = 'none';
            printView.style.display = 'block';
        }

        // 7. 이벤트 리스너
        generateBtn.addEventListener('click', generateSheets);
        
        printSheetBtn.addEventListener('click', () => {
            window.print();
        });

        backToSettingsBtn.addEventListener('click', () => {
            printView.style.display = 'none';
            settingsView.style.display = 'block';
        });

        // 초기화
        window.onload = generateChapterCheckboxes;
    </script>
</body>
</html>